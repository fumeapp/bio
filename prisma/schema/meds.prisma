model Cartridge {
  id        Int   @id @default(autoincrement())
  userId    Int
  user      User     @relation(fields: [userId], references: [id])
  content   String
  ml        Decimal
  mg        Decimal
  shots     Shot[]
  pen       Pen?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("cartridges")
}

model Pen {
  id          Int     @id @default(autoincrement())
  user        User       @relation(fields: [userId], references: [id])
  userId      Int
  cartridge   Cartridge? @relation(fields: [cartridgeId], references: [id], onDelete: Restrict)
  cartridgeId Int?    @unique
  color       String
  shotDay     String?
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@map("pens")
}

model Shot {
  id          Int    @id @default(autoincrement())
  userId      Int
  user        User      @relation(fields: [userId], references: [id])
  cartridgeId Int
  cartridge   Cartridge @relation(fields: [cartridgeId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  units       Int
  date        DateTime
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@map("shots")
}
